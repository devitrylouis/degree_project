{
    "collab_server" : "",
    "contents" : "lasso_model <- function(df)\n{\n  output<-list()\n  # Predictors\n    x=model.matrix(SalePrice~.,df)[,-1]\n  # Response\n    y=df$SalePrice\n  # Gris of lambda\n    grid=10^seq(10,-4,length=100)\n  # Train and test set\n    set.seed (1)\n    df_set=sample(1:nrow(x), nrow(x)/2)\n    test_set=(-df_set)\n    y.test=y[test_set]\n  # Lasso\n    lasso.mod=glmnet(x[df_set ,],y[df_set],alpha=1,lambda=grid) \n\n    set.seed(1)\n\n  # Cross-Valisation for lambda\n    cv.out=cv.glmnet(x[df_set ,],y[df_set],alpha=1)\n    plot.cv.glmnet(cv.out,main=\"Lasso cross-validation\",sub = NULL)\n    bestlam <- cv.out$lambda.min\n\n\n\n  # Lasso Results\n    \n    lasso.pred = predict(lasso.mod,s=bestlam ,newx=x[test_set,])\n    ms <- mean((lasso.pred-y.test)^2)\n    lasso.mod=glmnet(x[df_set ,],y[df_set],alpha=1,lambda=bestlam)\n    output[[1]]<-ms\n    output[[2]]<-bestlam\n    output[[3]]<-lasso.mod\n    \n    return(output)\n  }\n",
    "created" : 1492210870691.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3072870124",
    "id" : "4B16697",
    "lastKnownWriteTime" : 1492181038,
    "last_content_update" : 1492181038,
    "path" : "~/Documents/Education/KTH/Bachelor thesis/Bachelor Thesis/lasso.R",
    "project_path" : "lasso.R",
    "properties" : {
    },
    "relative_order" : 6,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}